{"version":3,"file":"index.cjs.js","sources":["../../src/compatibility.ts","../../src/helpers/webglHelper.ts","../../src/webgl2/backgroundBlurStage.ts","../../src/webgl2/backgroundImageStage.ts","../../src/webgl2/jointBilateralFilterStage.ts","../../src/webgl2/resizingStage.ts","../../src/webgl2/softmaxStage.ts","../../src/webgl2/webgl2Pipeline.ts","../../src/segmentation.ts","../../src/createRenderer.ts","../src/tflite-simd.js","../../src/version.ts","../../src/tflite.ts"],"sourcesContent":["import { simd } from 'wasm-feature-detect';\n\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */\nconst isMobile = () => /Mobi/i.test(navigator.userAgent);\n\n/**\n * Runs a check to see if the current platform supports\n * the necessary APIs required for the video filters.\n */\nexport const isPlatformSupported = async () =>\n  typeof document !== 'undefined' &&\n  typeof window !== 'undefined' &&\n  typeof navigator !== 'undefined' &&\n  !isMobile() && // we don't support mobile devices yet due to performance issues\n  typeof WebAssembly !== 'undefined' &&\n  !!window.WebGL2RenderingContext && // WebGL2 is required for the video filters\n  !!document.createElement('canvas').getContext('webgl2') &&\n  (await simd()); // SIMD is required for the wasm module\n","/**\n * Use it along with boyswan.glsl-literal VSCode extension\n * to get GLSL syntax highlighting.\n * https://marketplace.visualstudio.com/items?itemName=boyswan.glsl-literal\n *\n * On VSCode OSS, boyswan.glsl-literal requires slevesque.shader extension\n * to be installed as well.\n * https://marketplace.visualstudio.com/items?itemName=slevesque.shader\n */\nexport const glsl = String.raw;\n\nexport function createPipelineStageProgram(\n  gl: WebGL2RenderingContext,\n  vertexShader: WebGLShader,\n  fragmentShader: WebGLShader,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n) {\n  const program = createProgram(gl, vertexShader, fragmentShader);\n\n  const positionAttributeLocation = gl.getAttribLocation(program, 'a_position');\n  gl.enableVertexAttribArray(positionAttributeLocation);\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n\n  const texCoordAttributeLocation = gl.getAttribLocation(program, 'a_texCoord');\n  gl.enableVertexAttribArray(texCoordAttributeLocation);\n  gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n  gl.vertexAttribPointer(texCoordAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n\n  return program;\n}\n\nexport function createProgram(\n  gl: WebGL2RenderingContext,\n  vertexShader: WebGLShader,\n  fragmentShader: WebGLShader,\n) {\n  const program = gl.createProgram()!;\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n  gl.linkProgram(program);\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    throw new Error(\n      `Could not link WebGL program: ${gl.getProgramInfoLog(program)}`,\n    );\n  }\n  return program;\n}\n\nexport function compileShader(\n  gl: WebGL2RenderingContext,\n  shaderType: number,\n  shaderSource: string,\n) {\n  const shader = gl.createShader(shaderType)!;\n  gl.shaderSource(shader, shaderSource);\n  gl.compileShader(shader);\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    throw new Error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n  }\n  return shader;\n}\n\nexport function createTexture(\n  gl: WebGL2RenderingContext,\n  internalformat: number,\n  width: number,\n  height: number,\n  minFilter = gl.NEAREST,\n  magFilter = gl.NEAREST,\n) {\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n  gl.texStorage2D(gl.TEXTURE_2D, 1, internalformat, width, height);\n  return texture;\n}\n\nexport async function readPixelsAsync(\n  gl: WebGL2RenderingContext,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  format: number,\n  type: number,\n  dest: ArrayBufferView,\n) {\n  const buf = gl.createBuffer()!;\n  gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n  gl.bufferData(gl.PIXEL_PACK_BUFFER, dest.byteLength, gl.STREAM_READ);\n  gl.readPixels(x, y, width, height, format, type, 0);\n  gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n\n  await getBufferSubDataAsync(gl, gl.PIXEL_PACK_BUFFER, buf, 0, dest);\n\n  gl.deleteBuffer(buf);\n  return dest;\n}\n\nasync function getBufferSubDataAsync(\n  gl: WebGL2RenderingContext,\n  target: number,\n  buffer: WebGLBuffer,\n  srcByteOffset: number,\n  dstBuffer: ArrayBufferView,\n  dstOffset?: number,\n  length?: number,\n) {\n  const sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0)!;\n  gl.flush();\n  const res = await clientWaitAsync(gl, sync);\n  gl.deleteSync(sync);\n\n  if (res !== gl.WAIT_FAILED) {\n    gl.bindBuffer(target, buffer);\n    gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n    gl.bindBuffer(target, null);\n  }\n}\n\nfunction clientWaitAsync(gl: WebGL2RenderingContext, sync: WebGLSync) {\n  return new Promise<number>((resolve) => {\n    function test() {\n      const res = gl.clientWaitSync(sync, 0, 0);\n      if (res === gl.WAIT_FAILED) {\n        resolve(res);\n        return;\n      }\n      if (res === gl.TIMEOUT_EXPIRED) {\n        setTimeout(test);\n        return;\n      }\n      resolve(res);\n    }\n    setTimeout(test);\n  });\n}\n","import {\n  compileShader,\n  createPipelineStageProgram,\n  createTexture,\n  glsl,\n} from '../helpers/webglHelper';\nimport type { BackgroundBlurLevel } from '../createRenderer';\n\nexport type BackgroundBlurStage = {\n  render(): void;\n  updateCoverage(coverage: [number, number]): void;\n  cleanUp(): void;\n};\n\nexport function buildBackgroundBlurStage(\n  gl: WebGL2RenderingContext,\n  vertexShader: WebGLShader,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n  personMaskTexture: WebGLTexture,\n  canvas: HTMLCanvasElement,\n  blurLevel: BackgroundBlurLevel,\n): BackgroundBlurStage {\n  const blurPass = buildBlurPass(\n    gl,\n    vertexShader,\n    positionBuffer,\n    texCoordBuffer,\n    personMaskTexture,\n    canvas,\n    blurLevel,\n  );\n  const blendPass = buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas);\n\n  function render() {\n    blurPass.render();\n    blendPass.render();\n  }\n\n  function updateCoverage(coverage: [number, number]) {\n    blendPass.updateCoverage(coverage);\n  }\n\n  function cleanUp() {\n    blendPass.cleanUp();\n    blurPass.cleanUp();\n  }\n\n  return {\n    render,\n    updateCoverage,\n    cleanUp,\n  };\n}\n\nfunction buildBlurPass(\n  gl: WebGL2RenderingContext,\n  vertexShader: WebGLShader,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n  personMaskTexture: WebGLTexture,\n  canvas: HTMLCanvasElement,\n  blurLevel: BackgroundBlurLevel,\n) {\n  const weights =\n    blurLevel === 'low'\n      ? [0.227027027, 0.1545945946, 0.1016216216, 0.0340540541, 0.0142162162]\n      : blurLevel === 'medium'\n      ? [0.327027027, 0.1945945946, 0.1216216216, 0.0540540541, 0.0162162162]\n      : [0.627027027, 0.3445945946, 0.2216216216, 0.0540540541, 0.0162162162];\n\n  const fragmentShaderSource = glsl`#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform vec2 u_texelSize;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    const float offset[5] = float[](0.0, 1.0, 2.0, 3.0, 4.0);\n    const float weight[5] = float[](\n      ${weights.join(',')}\n    );\n\n    void main() {\n      vec4 centerColor = texture(u_inputFrame, v_texCoord);\n      float personMask = texture(u_personMask, v_texCoord).a;\n\n      vec4 frameColor = centerColor * weight[0] * (1.0 - personMask);\n\n      for (int i = 1; i < 5; i++) {\n        vec2 offset = vec2(offset[i]) * u_texelSize;\n\n        vec2 texCoord = v_texCoord + offset;\n        frameColor += texture(u_inputFrame, texCoord)\n           * weight[i]\n           * (1.0 - texture(u_personMask, texCoord).a);\n\n        texCoord = v_texCoord - offset;\n        frameColor += texture(u_inputFrame, texCoord)\n          * weight[i]\n          * (1.0 - texture(u_personMask, texCoord).a);\n      }\n      outColor = vec4(frameColor.rgb + (1.0 - frameColor.a) * centerColor.rgb, 1.0);\n    }\n  `;\n\n  const scale = 0.5;\n  const outputWidth = canvas.width * scale;\n  const outputHeight = canvas.height * scale;\n  const texelWidth = 1 / outputWidth;\n  const texelHeight = 1 / outputHeight;\n\n  const fragmentShader = compileShader(\n    gl,\n    gl.FRAGMENT_SHADER,\n    fragmentShaderSource,\n  );\n  const program = createPipelineStageProgram(\n    gl,\n    vertexShader,\n    fragmentShader,\n    positionBuffer,\n    texCoordBuffer,\n  );\n  const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n  const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n  const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n  const texture1 = createTexture(\n    gl,\n    gl.RGBA8,\n    outputWidth,\n    outputHeight,\n    gl.NEAREST,\n    // @ts-expect-error types are incomplete\n    gl.LINEAR,\n  );\n  const texture2 = createTexture(\n    gl,\n    gl.RGBA8,\n    outputWidth,\n    outputHeight,\n    gl.NEAREST,\n    // @ts-expect-error types are incomplete\n    gl.LINEAR,\n  );\n\n  const frameBuffer1 = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    gl.COLOR_ATTACHMENT0,\n    gl.TEXTURE_2D,\n    texture1,\n    0,\n  );\n\n  const frameBuffer2 = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    gl.COLOR_ATTACHMENT0,\n    gl.TEXTURE_2D,\n    texture2,\n    0,\n  );\n\n  gl.useProgram(program);\n  gl.uniform1i(personMaskLocation, 1);\n\n  function render() {\n    gl.viewport(0, 0, outputWidth, outputHeight);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n\n    for (let i = 0; i < 3; i++) {\n      gl.uniform2f(texelSizeLocation, 0, texelHeight);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n      gl.activeTexture(gl.TEXTURE2);\n      gl.bindTexture(gl.TEXTURE_2D, texture1);\n      gl.uniform1i(inputFrameLocation, 2);\n\n      gl.uniform2f(texelSizeLocation, texelWidth, 0);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n      gl.bindTexture(gl.TEXTURE_2D, texture2);\n    }\n  }\n\n  function cleanUp() {\n    gl.deleteFramebuffer(frameBuffer2);\n    gl.deleteFramebuffer(frameBuffer1);\n    gl.deleteTexture(texture2);\n    gl.deleteTexture(texture1);\n    gl.deleteProgram(program);\n    gl.deleteShader(fragmentShader);\n  }\n\n  return {\n    render,\n    cleanUp,\n  };\n}\n\nfunction buildBlendPass(\n  gl: WebGL2RenderingContext,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n  canvas: HTMLCanvasElement,\n) {\n  const vertexShaderSource = glsl`#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n\n  const fragmentShaderSource = glsl`#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_blurredInputFrame;\n    uniform vec2 u_coverage;\n\n    in vec2 v_texCoord;\n\n    out vec4 outColor;\n\n    void main() {\n      vec3 color = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 blurredColor = texture(u_blurredInputFrame, v_texCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(mix(blurredColor, color, personMask), 1.0);\n    }\n  `;\n\n  const { width: outputWidth, height: outputHeight } = canvas;\n\n  const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n  const fragmentShader = compileShader(\n    gl,\n    gl.FRAGMENT_SHADER,\n    fragmentShaderSource,\n  );\n  const program = createPipelineStageProgram(\n    gl,\n    vertexShader,\n    fragmentShader,\n    positionBuffer,\n    texCoordBuffer,\n  );\n  const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n  const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n  const blurredInputFrame = gl.getUniformLocation(\n    program,\n    'u_blurredInputFrame',\n  );\n  const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n\n  gl.useProgram(program);\n  gl.uniform1i(inputFrameLocation, 0);\n  gl.uniform1i(personMaskLocation, 1);\n  gl.uniform1i(blurredInputFrame, 2);\n  gl.uniform2f(coverageLocation, 0, 1);\n\n  function render() {\n    gl.viewport(0, 0, outputWidth, outputHeight);\n    gl.useProgram(program);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  function updateCoverage(coverage: [number, number]) {\n    gl.useProgram(program);\n    gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n  }\n\n  function cleanUp() {\n    gl.deleteProgram(program);\n    gl.deleteShader(fragmentShader);\n    gl.deleteShader(vertexShader);\n  }\n\n  return {\n    render,\n    updateCoverage,\n    cleanUp,\n  };\n}\n","import {\n  compileShader,\n  createPipelineStageProgram,\n  createTexture,\n  glsl,\n} from '../helpers/webglHelper';\n\nexport type BackgroundImageStage = {\n  render(): void;\n  updateCoverage(coverage: [number, number]): void;\n  updateLightWrapping(lightWrapping: number): void;\n  updateBlendMode(blendMode: 'screen' | 'linearDodge'): void;\n  cleanUp(): void;\n};\n\nexport function buildBackgroundImageStage(\n  gl: WebGL2RenderingContext,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n  personMaskTexture: WebGLTexture,\n  backgroundImage: HTMLImageElement | undefined,\n  canvas: HTMLCanvasElement,\n): BackgroundImageStage {\n  const vertexShaderSource = glsl`#version 300 es\n\n    uniform vec2 u_backgroundScale;\n    uniform vec2 u_backgroundOffset;\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n    out vec2 v_backgroundCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n      v_backgroundCoord = a_texCoord * u_backgroundScale + u_backgroundOffset;\n    }\n  `;\n\n  const fragmentShaderSource = glsl`#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_background;\n    uniform vec2 u_coverage;\n    uniform float u_lightWrapping;\n    uniform float u_blendMode;\n\n    in vec2 v_texCoord;\n    in vec2 v_backgroundCoord;\n\n    out vec4 outColor;\n\n    vec3 screen(vec3 a, vec3 b) {\n      return 1.0 - (1.0 - a) * (1.0 - b);\n    }\n\n    vec3 linearDodge(vec3 a, vec3 b) {\n      return a + b;\n    }\n\n    void main() {\n      vec3 frameColor = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 backgroundColor = texture(u_background, v_backgroundCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      float lightWrapMask = 1.0 - max(0.0, personMask - u_coverage.y) / (1.0 - u_coverage.y);\n      vec3 lightWrap = u_lightWrapping * lightWrapMask * backgroundColor;\n\n      frameColor = u_blendMode * linearDodge(frameColor, lightWrap)\n        + (1.0 - u_blendMode) * screen(frameColor, lightWrap);\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(frameColor * personMask + backgroundColor * (1.0 - personMask), 1.0);\n    }\n  `;\n\n  const { width: outputWidth, height: outputHeight } = canvas;\n  const outputRatio = outputWidth / outputHeight;\n\n  const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n  const fragmentShader = compileShader(\n    gl,\n    gl.FRAGMENT_SHADER,\n    fragmentShaderSource,\n  );\n  const program = createPipelineStageProgram(\n    gl,\n    vertexShader,\n    fragmentShader,\n    positionBuffer,\n    texCoordBuffer,\n  );\n  const backgroundScaleLocation = gl.getUniformLocation(\n    program,\n    'u_backgroundScale',\n  );\n  const backgroundOffsetLocation = gl.getUniformLocation(\n    program,\n    'u_backgroundOffset',\n  );\n  const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n  const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n  const backgroundLocation = gl.getUniformLocation(program, 'u_background');\n  const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n  const lightWrappingLocation = gl.getUniformLocation(\n    program,\n    'u_lightWrapping',\n  );\n  const blendModeLocation = gl.getUniformLocation(program, 'u_blendMode');\n\n  gl.useProgram(program);\n  gl.uniform2f(backgroundScaleLocation, 1, 1);\n  gl.uniform2f(backgroundOffsetLocation, 0, 0);\n  gl.uniform1i(inputFrameLocation, 0);\n  gl.uniform1i(personMaskLocation, 1);\n  gl.uniform2f(coverageLocation, 0, 1);\n  gl.uniform1f(lightWrappingLocation, 0);\n  gl.uniform1f(blendModeLocation, 0);\n\n  let backgroundTexture: WebGLTexture | null = null;\n  // TODO Find a better to handle background being loaded\n  if (backgroundImage?.complete) {\n    updateBackgroundImage(backgroundImage);\n  } else if (backgroundImage) {\n    backgroundImage.onload = () => {\n      updateBackgroundImage(backgroundImage);\n    };\n  }\n\n  function render() {\n    gl.viewport(0, 0, outputWidth, outputHeight);\n    gl.useProgram(program);\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n    if (backgroundTexture !== null) {\n      gl.activeTexture(gl.TEXTURE2);\n      gl.bindTexture(gl.TEXTURE_2D, backgroundTexture);\n      // TODO Handle correctly the background not loaded yet\n      gl.uniform1i(backgroundLocation, 2);\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  function updateBackgroundImage(bgImage: HTMLImageElement) {\n    backgroundTexture = createTexture(\n      gl,\n      gl.RGBA8,\n      bgImage.naturalWidth,\n      bgImage.naturalHeight,\n      // @ts-expect-error types are incomplete\n      gl.LINEAR,\n      gl.LINEAR,\n    );\n    gl.texSubImage2D(\n      gl.TEXTURE_2D,\n      0,\n      0,\n      0,\n      bgImage.naturalWidth,\n      bgImage.naturalHeight,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      bgImage,\n    );\n\n    let xOffset = 0;\n    let yOffset = 0;\n    let backgroundWidth = bgImage.naturalWidth;\n    let backgroundHeight = bgImage.naturalHeight;\n    const backgroundRatio = backgroundWidth / backgroundHeight;\n    if (backgroundRatio < outputRatio) {\n      backgroundHeight = backgroundWidth / outputRatio;\n      yOffset = (bgImage.naturalHeight - backgroundHeight) / 2;\n    } else {\n      backgroundWidth = backgroundHeight * outputRatio;\n      xOffset = (bgImage.naturalWidth - backgroundWidth) / 2;\n    }\n\n    const xScale = backgroundWidth / bgImage.naturalWidth;\n    const yScale = backgroundHeight / bgImage.naturalHeight;\n    xOffset /= bgImage.naturalWidth;\n    yOffset /= bgImage.naturalHeight;\n\n    gl.uniform2f(backgroundScaleLocation, xScale, yScale);\n    gl.uniform2f(backgroundOffsetLocation, xOffset, yOffset);\n  }\n\n  function updateCoverage(coverage: [number, number]) {\n    gl.useProgram(program);\n    gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n  }\n\n  function updateLightWrapping(lightWrapping: number) {\n    gl.useProgram(program);\n    gl.uniform1f(lightWrappingLocation, lightWrapping);\n  }\n\n  function updateBlendMode(blendMode: 'screen' | 'linearDodge') {\n    gl.useProgram(program);\n    gl.uniform1f(blendModeLocation, blendMode === 'screen' ? 0 : 1);\n  }\n\n  function cleanUp() {\n    gl.deleteTexture(backgroundTexture);\n    gl.deleteProgram(program);\n    gl.deleteShader(fragmentShader);\n    gl.deleteShader(vertexShader);\n  }\n\n  return {\n    render,\n    updateCoverage,\n    updateLightWrapping,\n    updateBlendMode,\n    cleanUp,\n  };\n}\n","import {\n  compileShader,\n  createPipelineStageProgram,\n  glsl,\n} from '../helpers/webglHelper';\nimport { SegmentationParams } from '../segmentation';\n\nexport function buildJointBilateralFilterStage(\n  gl: WebGL2RenderingContext,\n  vertexShader: WebGLShader,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n  inputTexture: WebGLTexture,\n  outputTexture: WebGLTexture,\n  canvas: HTMLCanvasElement,\n  segmentationConfig: SegmentationParams,\n) {\n  const fragmentShaderSource = glsl`#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_segmentationMask;\n    uniform vec2 u_texelSize;\n    uniform float u_step;\n    uniform float u_radius;\n    uniform float u_offset;\n    uniform float u_sigmaTexel;\n    uniform float u_sigmaColor;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    float gaussian(float x, float sigma) {\n      float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n      return exp((x * x) * coeff);\n    }\n\n    void main() {\n      vec2 centerCoord = v_texCoord;\n      vec3 centerColor = texture(u_inputFrame, centerCoord).rgb;\n      float newVal = 0.0;\n\n      float spaceWeight = 0.0;\n      float colorWeight = 0.0;\n      float totalWeight = 0.0;\n\n      // Subsample kernel space.\n      for (float i = -u_radius + u_offset; i <= u_radius; i += u_step) {\n        for (float j = -u_radius + u_offset; j <= u_radius; j += u_step) {\n          vec2 shift = vec2(j, i) * u_texelSize;\n          vec2 coord = vec2(centerCoord + shift);\n          vec3 frameColor = texture(u_inputFrame, coord).rgb;\n          float outVal = texture(u_segmentationMask, coord).a;\n\n          spaceWeight = gaussian(distance(centerCoord, coord), u_sigmaTexel);\n          colorWeight = gaussian(distance(centerColor, frameColor), u_sigmaColor);\n          totalWeight += spaceWeight * colorWeight;\n\n          newVal += spaceWeight * colorWeight * outVal;\n        }\n      }\n      newVal /= totalWeight;\n\n      outColor = vec4(vec3(0.0), newVal);\n    }\n  `;\n\n  const { width: segmentationWidth, height: segmentationHeight } =\n    segmentationConfig;\n  const { width: outputWidth, height: outputHeight } = canvas;\n  const texelWidth = 1 / outputWidth;\n  const texelHeight = 1 / outputHeight;\n\n  const fragmentShader = compileShader(\n    gl,\n    gl.FRAGMENT_SHADER,\n    fragmentShaderSource,\n  );\n  const program = createPipelineStageProgram(\n    gl,\n    vertexShader,\n    fragmentShader,\n    positionBuffer,\n    texCoordBuffer,\n  );\n  const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n  const segmentationMaskLocation = gl.getUniformLocation(\n    program,\n    'u_segmentationMask',\n  );\n  const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n  const stepLocation = gl.getUniformLocation(program, 'u_step');\n  const radiusLocation = gl.getUniformLocation(program, 'u_radius');\n  const offsetLocation = gl.getUniformLocation(program, 'u_offset');\n  const sigmaTexelLocation = gl.getUniformLocation(program, 'u_sigmaTexel');\n  const sigmaColorLocation = gl.getUniformLocation(program, 'u_sigmaColor');\n\n  const frameBuffer = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    gl.COLOR_ATTACHMENT0,\n    gl.TEXTURE_2D,\n    outputTexture,\n    0,\n  );\n\n  gl.useProgram(program);\n  gl.uniform1i(inputFrameLocation, 0);\n  gl.uniform1i(segmentationMaskLocation, 1);\n  gl.uniform2f(texelSizeLocation, texelWidth, texelHeight);\n\n  // Ensures default values are configured to prevent infinite\n  // loop in fragment shader\n  updateSigmaSpace(0);\n  updateSigmaColor(0);\n\n  function render() {\n    gl.viewport(0, 0, outputWidth, outputHeight);\n    gl.useProgram(program);\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  function updateSigmaSpace(sigmaSpace: number) {\n    sigmaSpace *= Math.max(\n      outputWidth / segmentationWidth,\n      outputHeight / segmentationHeight,\n    );\n\n    const kSparsityFactor = 0.66; // Higher is sparser.\n    const step = Math.max(1, Math.sqrt(sigmaSpace) * kSparsityFactor);\n    const radius = sigmaSpace;\n    const offset = step > 1 ? step * 0.5 : 0;\n    const sigmaTexel = Math.max(texelWidth, texelHeight) * sigmaSpace;\n\n    gl.useProgram(program);\n    gl.uniform1f(stepLocation, step);\n    gl.uniform1f(radiusLocation, radius);\n    gl.uniform1f(offsetLocation, offset);\n    gl.uniform1f(sigmaTexelLocation, sigmaTexel);\n  }\n\n  function updateSigmaColor(sigmaColor: number) {\n    gl.useProgram(program);\n    gl.uniform1f(sigmaColorLocation, sigmaColor);\n  }\n\n  function cleanUp() {\n    gl.deleteFramebuffer(frameBuffer);\n    gl.deleteProgram(program);\n    gl.deleteShader(fragmentShader);\n  }\n\n  return { render, updateSigmaSpace, updateSigmaColor, cleanUp };\n}\n","import { TFLite } from '../tflite';\nimport {\n  compileShader,\n  createPipelineStageProgram,\n  createTexture,\n  glsl,\n  readPixelsAsync,\n} from '../helpers/webglHelper';\nimport { SegmentationParams } from '../segmentation';\n\nexport function buildResizingStage(\n  gl: WebGL2RenderingContext,\n  vertexShader: WebGLShader,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n  tflite: TFLite,\n  segmentationConfig: SegmentationParams,\n) {\n  const fragmentShaderSource = glsl`#version 300 es\n\n    precision highp float;\n    uniform sampler2D u_inputFrame;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      outColor = texture(u_inputFrame, v_texCoord);\n    }\n  `;\n\n  // TFLite memory will be accessed as float32\n  const tfliteInputMemoryOffset = tflite._getInputMemoryOffset() / 4;\n\n  const { width: outputWidth, height: outputHeight } = segmentationConfig;\n  const outputPixelCount = outputWidth * outputHeight;\n\n  const fragmentShader = compileShader(\n    gl,\n    gl.FRAGMENT_SHADER,\n    fragmentShaderSource,\n  );\n  const program = createPipelineStageProgram(\n    gl,\n    vertexShader,\n    fragmentShader,\n    positionBuffer,\n    texCoordBuffer,\n  );\n  const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n  const outputTexture = createTexture(gl, gl.RGBA8, outputWidth, outputHeight);\n\n  const frameBuffer = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    gl.COLOR_ATTACHMENT0,\n    gl.TEXTURE_2D,\n    outputTexture,\n    0,\n  );\n  const outputPixels = new Uint8Array(outputPixelCount * 4);\n\n  gl.useProgram(program);\n  gl.uniform1i(inputFrameLocation, 0);\n\n  function render() {\n    gl.viewport(0, 0, outputWidth, outputHeight);\n    gl.useProgram(program);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n    // Downloads pixels asynchronously from GPU while rendering the current frame.\n    // The pixels will be available in the next frame render which results\n    // in offsets in the segmentation output but increases the frame rate.\n    readPixelsAsync(\n      gl,\n      0,\n      0,\n      outputWidth,\n      outputHeight,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      outputPixels,\n    );\n\n    for (let i = 0; i < outputPixelCount; i++) {\n      const tfliteIndex = tfliteInputMemoryOffset + i * 3;\n      const outputIndex = i * 4;\n      tflite.HEAPF32[tfliteIndex] = outputPixels[outputIndex] / 255;\n      tflite.HEAPF32[tfliteIndex + 1] = outputPixels[outputIndex + 1] / 255;\n      tflite.HEAPF32[tfliteIndex + 2] = outputPixels[outputIndex + 2] / 255;\n    }\n  }\n\n  function cleanUp() {\n    gl.deleteFramebuffer(frameBuffer);\n    gl.deleteTexture(outputTexture);\n    gl.deleteProgram(program);\n    gl.deleteShader(fragmentShader);\n  }\n\n  return { render, cleanUp };\n}\n","import { TFLite } from '../tflite';\nimport {\n  compileShader,\n  createPipelineStageProgram,\n  createTexture,\n  glsl,\n} from '../helpers/webglHelper';\nimport { SegmentationParams } from '../segmentation';\n\nexport function buildSoftmaxStage(\n  gl: WebGL2RenderingContext,\n  vertexShader: WebGLShader,\n  positionBuffer: WebGLBuffer,\n  texCoordBuffer: WebGLBuffer,\n  tflite: TFLite,\n  outputTexture: WebGLTexture,\n  segmentationConfig: SegmentationParams,\n) {\n  const fragmentShaderSource = glsl`#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputSegmentation;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      vec2 segmentation = texture(u_inputSegmentation, v_texCoord).rg;\n      float shift = max(segmentation.r, segmentation.g);\n      float backgroundExp = exp(segmentation.r - shift);\n      float personExp = exp(segmentation.g - shift);\n      outColor = vec4(vec3(0.0), personExp / (backgroundExp + personExp));\n    }\n  `;\n\n  // TFLite memory will be accessed as float32\n  const tfliteOutputMemoryOffset = tflite._getOutputMemoryOffset() / 4;\n  const { width: segmentationWidth, height: segmentationHeight } =\n    segmentationConfig;\n\n  const fragmentShader = compileShader(\n    gl,\n    gl.FRAGMENT_SHADER,\n    fragmentShaderSource,\n  );\n  const program = createPipelineStageProgram(\n    gl,\n    vertexShader,\n    fragmentShader,\n    positionBuffer,\n    texCoordBuffer,\n  );\n  const inputLocation = gl.getUniformLocation(program, 'u_inputSegmentation');\n  const inputTexture = createTexture(\n    gl,\n    gl.RG32F,\n    segmentationWidth,\n    segmentationHeight,\n  );\n\n  const frameBuffer = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    gl.COLOR_ATTACHMENT0,\n    gl.TEXTURE_2D,\n    outputTexture,\n    0,\n  );\n\n  gl.useProgram(program);\n  gl.uniform1i(inputLocation, 1);\n\n  function render() {\n    gl.viewport(0, 0, segmentationWidth, segmentationHeight);\n    gl.useProgram(program);\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n    gl.texSubImage2D(\n      gl.TEXTURE_2D,\n      0,\n      0,\n      0,\n      segmentationWidth,\n      segmentationHeight,\n      gl.RG,\n      gl.FLOAT,\n      tflite.HEAPF32,\n      tfliteOutputMemoryOffset,\n    );\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  function cleanUp() {\n    gl.deleteFramebuffer(frameBuffer);\n    gl.deleteTexture(inputTexture);\n    gl.deleteProgram(program);\n    gl.deleteShader(fragmentShader);\n  }\n\n  return { render, cleanUp };\n}\n","import { TFLite } from '../tflite';\nimport { compileShader, createTexture, glsl } from '../helpers/webglHelper';\nimport {\n  BackgroundBlurStage,\n  buildBackgroundBlurStage,\n} from './backgroundBlurStage';\nimport {\n  BackgroundImageStage,\n  buildBackgroundImageStage,\n} from './backgroundImageStage';\nimport { buildJointBilateralFilterStage } from './jointBilateralFilterStage';\nimport { buildResizingStage } from './resizingStage';\nimport { buildSoftmaxStage } from './softmaxStage';\nimport { BackgroundBlurLevel, BackgroundFilter } from '../createRenderer';\nimport { SegmentationParams } from '../segmentation';\n\nexport function buildWebGL2Pipeline(\n  videoSource: HTMLVideoElement,\n  backgroundImage: HTMLImageElement | undefined,\n  blurLevel: BackgroundBlurLevel | undefined,\n  backgroundFilter: BackgroundFilter,\n  canvas: HTMLCanvasElement,\n  tflite: TFLite,\n  segmentationConfig: SegmentationParams,\n) {\n  const gl = canvas.getContext('webgl2')!;\n  if (!gl) throw new Error('WebGL2 is not supported');\n\n  const { width: frameWidth, height: frameHeight } = videoSource;\n  const { width: segmentationWidth, height: segmentationHeight } =\n    segmentationConfig;\n\n  const vertexShaderSource = glsl`#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n    out vec2 v_texCoord;\n\n    void main() {\n      gl_Position = vec4(a_position, 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n  const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n\n  const vertexArray = gl.createVertexArray();\n  gl.bindVertexArray(vertexArray);\n\n  const positionBuffer = gl.createBuffer()!;\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  gl.bufferData(\n    gl.ARRAY_BUFFER,\n    new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, 1.0]),\n    gl.STATIC_DRAW,\n  );\n\n  const texCoordBuffer = gl.createBuffer()!;\n  gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n  gl.bufferData(\n    gl.ARRAY_BUFFER,\n    new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]),\n    gl.STATIC_DRAW,\n  );\n\n  // We don't use texStorage2D here because texImage2D seems faster\n  // to upload video texture than texSubImage2D even though the latter\n  // is supposed to be the recommended way:\n  // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_texstorage_to_create_textures\n  const inputFrameTexture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n  // TODO Rename segmentation and person mask to be more specific\n  const segmentationTexture = createTexture(\n    gl,\n    gl.RGBA8,\n    segmentationWidth,\n    segmentationHeight,\n  )!;\n  const personMaskTexture = createTexture(\n    gl,\n    gl.RGBA8,\n    frameWidth,\n    frameHeight,\n  )!;\n\n  const resizingStage = buildResizingStage(\n    gl,\n    vertexShader,\n    positionBuffer,\n    texCoordBuffer,\n    tflite,\n    segmentationConfig,\n  );\n  const loadSegmentationStage = buildSoftmaxStage(\n    gl,\n    vertexShader,\n    positionBuffer,\n    texCoordBuffer,\n    tflite,\n    segmentationTexture,\n    segmentationConfig,\n  );\n\n  const jointBilateralFilterStage = buildJointBilateralFilterStage(\n    gl,\n    vertexShader,\n    positionBuffer,\n    texCoordBuffer,\n    segmentationTexture,\n    personMaskTexture,\n    canvas,\n    segmentationConfig,\n  );\n  const backgroundStage =\n    backgroundFilter === 'blur'\n      ? buildBackgroundBlurStage(\n          gl,\n          vertexShader,\n          positionBuffer,\n          texCoordBuffer,\n          personMaskTexture,\n          canvas,\n          blurLevel || 'high',\n        )\n      : buildBackgroundImageStage(\n          gl,\n          positionBuffer,\n          texCoordBuffer,\n          personMaskTexture,\n          backgroundImage,\n          canvas,\n        );\n\n  function render() {\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n\n    // texImage2D seems faster than texSubImage2D to upload\n    // video texture\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      0,\n      gl.RGBA,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      videoSource,\n    );\n\n    gl.bindVertexArray(vertexArray);\n\n    resizingStage.render();\n\n    tflite._runInference();\n\n    loadSegmentationStage.render();\n    jointBilateralFilterStage.render();\n    backgroundStage.render();\n  }\n\n  function updatePostProcessingConfig() {\n    jointBilateralFilterStage.updateSigmaSpace(1);\n    jointBilateralFilterStage.updateSigmaColor(0.1);\n\n    if (backgroundFilter === 'image') {\n      const backgroundImageStage = backgroundStage as BackgroundImageStage;\n      backgroundImageStage.updateCoverage([0.5, 0.75]);\n      backgroundImageStage.updateLightWrapping(0.3);\n      backgroundImageStage.updateBlendMode('screen');\n    } else if (backgroundFilter === 'blur') {\n      const backgroundBlurStage = backgroundStage as BackgroundBlurStage;\n      backgroundBlurStage.updateCoverage([0.5, 0.75]);\n    } else {\n      // TODO Handle no background in a separate pipeline path\n      const backgroundImageStage = backgroundStage as BackgroundImageStage;\n      backgroundImageStage.updateCoverage([0, 0.9999]);\n      backgroundImageStage.updateLightWrapping(0);\n    }\n  }\n\n  function cleanUp() {\n    backgroundStage.cleanUp();\n    jointBilateralFilterStage.cleanUp();\n    loadSegmentationStage.cleanUp();\n    resizingStage.cleanUp();\n\n    gl.deleteTexture(personMaskTexture);\n    gl.deleteTexture(segmentationTexture);\n    gl.deleteTexture(inputFrameTexture);\n    gl.deleteBuffer(texCoordBuffer);\n    gl.deleteBuffer(positionBuffer);\n    gl.deleteVertexArray(vertexArray);\n    gl.deleteShader(vertexShader);\n  }\n\n  return { render, updatePostProcessingConfig, cleanUp };\n}\n","export type SegmentationParams = {\n  width: number;\n  height: number;\n};\n\nexport enum SegmentationLevel {\n  LOW = 'low',\n  HIGH = 'high',\n}\n\nexport const getSegmentationParams = (\n  level: SegmentationLevel,\n): SegmentationParams => {\n  if (level === SegmentationLevel.HIGH) {\n    return { width: 256, height: 144 };\n  }\n  return { width: 160, height: 96 };\n};\n","import { TFLite } from './tflite';\nimport { buildWebGL2Pipeline } from './webgl2/webgl2Pipeline';\nimport { getSegmentationParams, SegmentationLevel } from './segmentation';\n\nexport type BackgroundFilter = 'blur' | 'image';\nexport type BackgroundBlurLevel = 'low' | 'medium' | 'high';\nexport type Renderer = {\n  /**\n   * Disposes of the renderer.\n   */\n  dispose: () => void;\n};\n\nexport function createRenderer(\n  tflite: TFLite,\n  videoSource: HTMLVideoElement,\n  targetCanvas: HTMLCanvasElement,\n  options: {\n    backgroundFilter: BackgroundFilter;\n    segmentationLevel?: SegmentationLevel;\n    backgroundImage?: HTMLImageElement;\n    backgroundBlurLevel?: BackgroundBlurLevel;\n    fps?: number;\n  },\n): Renderer {\n  const {\n    backgroundFilter,\n    backgroundImage,\n    backgroundBlurLevel,\n    segmentationLevel = SegmentationLevel.HIGH,\n    fps = 30,\n  } = options;\n  if (backgroundFilter === 'image' && !backgroundImage) {\n    throw new Error(\n      `backgroundImage element is required when backgroundFilter is image`,\n    );\n  }\n\n  const pipeline = buildWebGL2Pipeline(\n    videoSource,\n    backgroundImage,\n    backgroundBlurLevel,\n    backgroundFilter,\n    targetCanvas,\n    tflite,\n    getSegmentationParams(segmentationLevel),\n  );\n\n  const id = setInterval(() => {\n    pipeline.render();\n\n    if (backgroundFilter === 'image') {\n      pipeline.updatePostProcessingConfig();\n    }\n  }, 1000 / (fps <= 0 ? 30 : fps));\n\n  return {\n    dispose: () => {\n      pipeline.cleanUp();\n      clearInterval(id);\n    },\n  };\n}\n","export const createTFLiteSIMDModule = (__Module) => {\n  __Module = __Module || {};\n\n  var _scriptDir =\n    typeof document !== 'undefined' && document.currentScript\n      ? document.currentScript.src\n      : undefined;\n\n  var Module = typeof __Module != 'undefined' ? __Module : {};\n  var readyPromiseResolve, readyPromiseReject;\n  Module['ready'] = new Promise(function (resolve, reject) {\n    readyPromiseResolve = resolve;\n    readyPromiseReject = reject;\n  });\n  var moduleOverrides = Object.assign({}, Module);\n  var arguments_ = [];\n  var thisProgram = './this.program';\n  var quit_ = (status, toThrow) => {\n    throw toThrow;\n  };\n  var ENVIRONMENT_IS_WEB = true;\n  var ENVIRONMENT_IS_WORKER = false;\n  var scriptDirectory = '';\n\n  function locateFile(path) {\n    if (Module['locateFile']) {\n      return Module['locateFile'](path, scriptDirectory);\n    }\n    return scriptDirectory + path;\n  }\n\n  var read_, readAsync, readBinary, setWindowTitle;\n  if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\n    if (ENVIRONMENT_IS_WORKER) {\n      // eslint-disable-next-line no-restricted-globals\n      scriptDirectory = self.location.href;\n    } else if (typeof document != 'undefined' && document.currentScript) {\n      scriptDirectory = document.currentScript.src;\n    }\n    if (_scriptDir) {\n      scriptDirectory = _scriptDir;\n    }\n    if (scriptDirectory.indexOf('blob:') !== 0) {\n      scriptDirectory = scriptDirectory.substr(\n        0,\n        scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n      );\n    } else {\n      scriptDirectory = '';\n    }\n    {\n      read_ = (url) => {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, false);\n        xhr.send(null);\n        return xhr.responseText;\n      };\n      if (ENVIRONMENT_IS_WORKER) {\n        readBinary = (url) => {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', url, false);\n          xhr.responseType = 'arraybuffer';\n          xhr.send(null);\n          return new Uint8Array(xhr.response);\n        };\n      }\n      readAsync = (url, onload, onerror) => {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.onload = () => {\n          if (xhr.status == 200 || (xhr.status == 0 && xhr.response)) {\n            onload(xhr.response);\n            return;\n          }\n          onerror();\n        };\n        xhr.onerror = onerror;\n        xhr.send(null);\n      };\n    }\n    setWindowTitle = (title) => (document.title = title);\n  } else {\n  }\n  var out = Module['print'] || console.log.bind(console);\n  var err = Module['printErr'] || console.warn.bind(console);\n  Object.assign(Module, moduleOverrides);\n  moduleOverrides = null;\n  if (Module['arguments']) arguments_ = Module['arguments'];\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n  if (Module['quit']) quit_ = Module['quit'];\n  var POINTER_SIZE = 4;\n  var wasmBinary;\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n  var noExitRuntime = Module['noExitRuntime'] || true;\n  if (typeof WebAssembly != 'object') {\n    abort('no native wasm support detected');\n  }\n  var wasmMemory;\n  var ABORT = false;\n  var EXITSTATUS;\n\n  function assert(condition, text) {\n    if (!condition) {\n      abort(text);\n    }\n  }\n\n  var UTF8Decoder =\n    typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n    var endIdx = idx + maxBytesToRead;\n    var endPtr = idx;\n    while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n    if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n      return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n    }\n    var str = '';\n    while (idx < endPtr) {\n      var u0 = heapOrArray[idx++];\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue;\n      }\n      var u1 = heapOrArray[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\n        continue;\n      }\n      var u2 = heapOrArray[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n      } else {\n        u0 =\n          ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0);\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n      }\n    }\n    return str;\n  }\n\n  function UTF8ToString(ptr, maxBytesToRead) {\n    return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '';\n  }\n\n  function stringToUTF8Array(str, heap, outIdx, maxBytesToWrite) {\n    if (!(maxBytesToWrite > 0)) return 0;\n    var startIdx = outIdx;\n    var endIdx = outIdx + maxBytesToWrite - 1;\n    for (var i = 0; i < str.length; ++i) {\n      var u = str.charCodeAt(i);\n      if (u >= 55296 && u <= 57343) {\n        var u1 = str.charCodeAt(++i);\n        u = (65536 + ((u & 1023) << 10)) | (u1 & 1023);\n      }\n      if (u <= 127) {\n        if (outIdx >= endIdx) break;\n        heap[outIdx++] = u;\n      } else if (u <= 2047) {\n        if (outIdx + 1 >= endIdx) break;\n        heap[outIdx++] = 192 | (u >> 6);\n        heap[outIdx++] = 128 | (u & 63);\n      } else if (u <= 65535) {\n        if (outIdx + 2 >= endIdx) break;\n        heap[outIdx++] = 224 | (u >> 12);\n        heap[outIdx++] = 128 | ((u >> 6) & 63);\n        heap[outIdx++] = 128 | (u & 63);\n      } else {\n        if (outIdx + 3 >= endIdx) break;\n        heap[outIdx++] = 240 | (u >> 18);\n        heap[outIdx++] = 128 | ((u >> 12) & 63);\n        heap[outIdx++] = 128 | ((u >> 6) & 63);\n        heap[outIdx++] = 128 | (u & 63);\n      }\n    }\n    heap[outIdx] = 0;\n    return outIdx - startIdx;\n  }\n\n  var buffer, HEAP8, HEAPU8, HEAP16, HEAPU16, HEAP32, HEAPU32, HEAPF32, HEAPF64;\n\n  function updateGlobalBufferAndViews(buf) {\n    buffer = buf;\n    Module['HEAP8'] = HEAP8 = new Int8Array(buf);\n    Module['HEAP16'] = HEAP16 = new Int16Array(buf);\n    Module['HEAP32'] = HEAP32 = new Int32Array(buf);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\n    Module['HEAPU16'] = HEAPU16 = new Uint16Array(buf);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\n    Module['HEAPF32'] = HEAPF32 = new Float32Array(buf);\n    Module['HEAPF64'] = HEAPF64 = new Float64Array(buf);\n  }\n\n  var INITIAL_MEMORY = Module['INITIAL_MEMORY'] || 16777216;\n  var wasmTable;\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATPOSTRUN__ = [];\n  var runtimeInitialized = false;\n\n  function keepRuntimeAlive() {\n    return noExitRuntime;\n  }\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] == 'function')\n        Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function initRuntime() {\n    runtimeInitialized = true;\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] == 'function')\n        Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  var runDependencies = 0;\n  var runDependencyWatcher = null;\n  var dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies == 0) {\n      if (runDependencyWatcher !== null) {\n        clearInterval(runDependencyWatcher);\n        runDependencyWatcher = null;\n      }\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  function abort(what) {\n    {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n    }\n    what = 'Aborted(' + what + ')';\n    err(what);\n    ABORT = true;\n    EXITSTATUS = 1;\n    what += '. Build with -sASSERTIONS for more info.';\n    var e = new WebAssembly.RuntimeError(what);\n    readyPromiseReject(e);\n    throw e;\n  }\n\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n  function isDataURI(filename) {\n    return filename.startsWith(dataURIPrefix);\n  }\n\n  var wasmBinaryFile;\n  wasmBinaryFile = 'tflite-simd.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n\n  function getBinary(file) {\n    try {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) {\n        return readBinary(file);\n      }\n      throw 'both async and sync fetching of the wasm failed';\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n    } catch (err) {\n      abort(err);\n    }\n  }\n\n  function getBinaryPromise() {\n    if (!wasmBinary && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {\n      if (typeof fetch == 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n          .then(function (response) {\n            if (!response['ok']) {\n              throw (\n                \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n              );\n            }\n            return response['arrayBuffer']();\n          })\n          .catch(function () {\n            return getBinary(wasmBinaryFile);\n          });\n      }\n    }\n    return Promise.resolve().then(function () {\n      return getBinary(wasmBinaryFile);\n    });\n  }\n\n  function createWasm() {\n    var info = {\n      env: asmLibraryArg,\n      wasi_snapshot_preview1: asmLibraryArg,\n    };\n\n    function receiveInstance(instance, module) {\n      var exports = instance.exports;\n      Module['asm'] = exports;\n      wasmMemory = Module['asm']['memory'];\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      wasmTable = Module['asm']['__indirect_function_table'];\n      addOnInit(Module['asm']['__wasm_call_ctors']);\n      removeRunDependency('wasm-instantiate');\n    }\n\n    addRunDependency('wasm-instantiate');\n\n    function receiveInstantiationResult(result) {\n      receiveInstance(result['instance']);\n    }\n\n    function instantiateArrayBuffer(receiver) {\n      return getBinaryPromise()\n        .then(function (binary) {\n          return WebAssembly.instantiate(binary, info);\n        })\n        .then(function (instance) {\n          return instance;\n        })\n        .then(receiver, function (reason) {\n          err('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync() {\n      if (\n        !wasmBinary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(wasmBinaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n          function (response) {\n            var result = WebAssembly.instantiateStreaming(response, info);\n            return result.then(receiveInstantiationResult, function (reason) {\n              err('wasm streaming compile failed: ' + reason);\n              err('falling back to ArrayBuffer instantiation');\n              return instantiateArrayBuffer(receiveInstantiationResult);\n            });\n          },\n        );\n      } else {\n        return instantiateArrayBuffer(receiveInstantiationResult);\n      }\n    }\n\n    if (Module['instantiateWasm']) {\n      try {\n        var exports = Module['instantiateWasm'](info, receiveInstance);\n        return exports;\n      } catch (e) {\n        err('Module.instantiateWasm callback failed with error: ' + e);\n        readyPromiseReject(e);\n      }\n    }\n    instantiateAsync().catch(readyPromiseReject);\n    return {};\n  }\n\n  var tempDouble;\n  var tempI64;\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      callbacks.shift()(Module);\n    }\n  }\n\n  function demangle(func) {\n    return func;\n  }\n\n  function demangleAll(text) {\n    var regex = /\\b_Z[\\w\\d_]+/g;\n    return text.replace(regex, function (x) {\n      var y = demangle(x);\n      return x === y ? x : y + ' [' + x + ']';\n    });\n  }\n\n  function jsStackTrace() {\n    var error = new Error();\n    if (!error.stack) {\n      try {\n        throw new Error();\n      } catch (e) {\n        error = e;\n      }\n      if (!error.stack) {\n        return '(no stack trace available)';\n      }\n    }\n    return error.stack.toString();\n  }\n\n  function __dlinit(main_dso_handle) {}\n\n  var dlopenMissingError =\n    'To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking';\n\n  function __dlopen_js(filename, flag) {\n    abort(dlopenMissingError);\n  }\n\n  function __dlsym_js(handle, symbol) {\n    abort(dlopenMissingError);\n  }\n\n  var nowIsMonotonic = true;\n\n  function __emscripten_get_now_is_monotonic() {\n    return nowIsMonotonic;\n  }\n\n  var SYSCALLS = {\n    varargs: undefined,\n    get: function () {\n      SYSCALLS.varargs += 4;\n      var ret = HEAP32[(SYSCALLS.varargs - 4) >> 2];\n      return ret;\n    },\n    getStr: function (ptr) {\n      var ret = UTF8ToString(ptr);\n      return ret;\n    },\n  };\n\n  function __mmap_js(len, prot, flags, fd, off, allocated) {\n    return -52;\n  }\n\n  function __munmap_js(addr, len, prot, flags, fd, offset) {}\n\n  function _abort() {\n    abort('');\n  }\n\n  function _emscripten_date_now() {\n    return Date.now();\n  }\n\n  function getHeapMax() {\n    return 2147483648;\n  }\n\n  function _emscripten_get_heap_max() {\n    return getHeapMax();\n  }\n\n  var _emscripten_get_now;\n  _emscripten_get_now = () => performance.now();\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.copyWithin(dest, src, src + num);\n  }\n\n  function emscripten_realloc_buffer(size) {\n    try {\n      wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      return 1;\n    } catch (e) {}\n  }\n\n  function _emscripten_resize_heap(requestedSize) {\n    var oldSize = HEAPU8.length;\n    requestedSize = requestedSize >>> 0;\n    var maxHeapSize = getHeapMax();\n    if (requestedSize > maxHeapSize) {\n      return false;\n    }\n    let alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n    for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n      var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n      overGrownHeapSize = Math.min(\n        overGrownHeapSize,\n        requestedSize + 100663296,\n      );\n      var newSize = Math.min(\n        maxHeapSize,\n        alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n      );\n      var replacement = emscripten_realloc_buffer(newSize);\n      if (replacement) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var ENV = {};\n\n  function getExecutableName() {\n    return thisProgram || './this.program';\n  }\n\n  function getEnvStrings() {\n    if (!getEnvStrings.strings) {\n      var lang =\n        (\n          (typeof navigator == 'object' &&\n            navigator.languages &&\n            navigator.languages[0]) ||\n          'C'\n        ).replace('-', '_') + '.UTF-8';\n      var env = {\n        USER: 'web_user',\n        LOGNAME: 'web_user',\n        PATH: '/',\n        PWD: '/',\n        HOME: '/home/web_user',\n        LANG: lang,\n        _: getExecutableName(),\n      };\n      for (var x in ENV) {\n        if (ENV[x] === undefined) delete env[x];\n        else env[x] = ENV[x];\n      }\n      var strings = [];\n      for (var x in env) {\n        strings.push(x + '=' + env[x]);\n      }\n      getEnvStrings.strings = strings;\n    }\n    return getEnvStrings.strings;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (var i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    if (!dontAddNull) HEAP8[buffer >> 0] = 0;\n  }\n\n  function _environ_get(__environ, environ_buf) {\n    var bufSize = 0;\n    getEnvStrings().forEach(function (string, i) {\n      var ptr = environ_buf + bufSize;\n      HEAPU32[(__environ + i * 4) >> 2] = ptr;\n      writeAsciiToMemory(string, ptr);\n      bufSize += string.length + 1;\n    });\n    return 0;\n  }\n\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\n    var strings = getEnvStrings();\n    HEAPU32[penviron_count >> 2] = strings.length;\n    var bufSize = 0;\n    strings.forEach(function (string) {\n      bufSize += string.length + 1;\n    });\n    HEAPU32[penviron_buf_size >> 2] = bufSize;\n    return 0;\n  }\n\n  function _proc_exit(code) {\n    EXITSTATUS = code;\n    if (!keepRuntimeAlive()) {\n      if (Module['onExit']) Module['onExit'](code);\n      ABORT = true;\n    }\n    quit_(code, new ExitStatus(code));\n  }\n\n  function exitJS(status, implicit) {\n    EXITSTATUS = status;\n    _proc_exit(status);\n  }\n\n  var _exit = exitJS;\n\n  function _fd_close(fd) {\n    return 52;\n  }\n\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n    return 70;\n  }\n\n  var printCharBuffers = [null, [], []];\n\n  function printChar(stream, curr) {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    var buffer = printCharBuffers[stream];\n    if (curr === 0 || curr === 10) {\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n      buffer.length = 0;\n    } else {\n      buffer.push(curr);\n    }\n  }\n\n  function _fd_write(fd, iov, iovcnt, pnum) {\n    var num = 0;\n    for (var i = 0; i < iovcnt; i++) {\n      var ptr = HEAPU32[iov >> 2];\n      var len = HEAPU32[(iov + 4) >> 2];\n      iov += 8;\n      for (var j = 0; j < len; j++) {\n        printChar(fd, HEAPU8[ptr + j]);\n      }\n      num += len;\n    }\n    HEAPU32[pnum >> 2] = num;\n    return 0;\n  }\n\n  function getRandomDevice() {\n    if (\n      typeof crypto == 'object' &&\n      typeof crypto['getRandomValues'] == 'function'\n    ) {\n      var randomBuffer = new Uint8Array(1);\n      return () => {\n        crypto.getRandomValues(randomBuffer);\n        return randomBuffer[0];\n      };\n    } else return () => abort('randomDevice');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function _getentropy(buffer, size) {\n    if (!_getentropy.randomDevice) {\n      _getentropy.randomDevice = getRandomDevice();\n    }\n    for (var i = 0; i < size; i++) {\n      HEAP8[(buffer + i) >> 0] = _getentropy.randomDevice();\n    }\n    return 0;\n  }\n\n  var asmLibraryArg = {\n    _dlinit: __dlinit,\n    _dlopen_js: __dlopen_js,\n    _dlsym_js: __dlsym_js,\n    _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n    _mmap_js: __mmap_js,\n    _munmap_js: __munmap_js,\n    abort: _abort,\n    emscripten_date_now: _emscripten_date_now,\n    emscripten_get_heap_max: _emscripten_get_heap_max,\n    emscripten_get_now: _emscripten_get_now,\n    emscripten_memcpy_big: _emscripten_memcpy_big,\n    emscripten_resize_heap: _emscripten_resize_heap,\n    environ_get: _environ_get,\n    environ_sizes_get: _environ_sizes_get,\n    exit: _exit,\n    fd_close: _fd_close,\n    fd_seek: _fd_seek,\n    fd_write: _fd_write,\n    getentropy: _getentropy,\n  };\n  var asm = createWasm();\n  var ___wasm_call_ctors = (Module['___wasm_call_ctors'] = function () {\n    return (___wasm_call_ctors = Module['___wasm_call_ctors'] =\n      Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n  });\n  var _getModelBufferMemoryOffset = (Module['_getModelBufferMemoryOffset'] =\n    function () {\n      return (_getModelBufferMemoryOffset = Module[\n        '_getModelBufferMemoryOffset'\n      ] =\n        Module['asm']['getModelBufferMemoryOffset']).apply(null, arguments);\n    });\n  var _getInputMemoryOffset = (Module['_getInputMemoryOffset'] = function () {\n    return (_getInputMemoryOffset = Module['_getInputMemoryOffset'] =\n      Module['asm']['getInputMemoryOffset']).apply(null, arguments);\n  });\n  var _getInputHeight = (Module['_getInputHeight'] = function () {\n    return (_getInputHeight = Module['_getInputHeight'] =\n      Module['asm']['getInputHeight']).apply(null, arguments);\n  });\n  var _getInputWidth = (Module['_getInputWidth'] = function () {\n    return (_getInputWidth = Module['_getInputWidth'] =\n      Module['asm']['getInputWidth']).apply(null, arguments);\n  });\n  var _getInputChannelCount = (Module['_getInputChannelCount'] = function () {\n    return (_getInputChannelCount = Module['_getInputChannelCount'] =\n      Module['asm']['getInputChannelCount']).apply(null, arguments);\n  });\n  var _getOutputMemoryOffset = (Module['_getOutputMemoryOffset'] = function () {\n    return (_getOutputMemoryOffset = Module['_getOutputMemoryOffset'] =\n      Module['asm']['getOutputMemoryOffset']).apply(null, arguments);\n  });\n  var _getOutputHeight = (Module['_getOutputHeight'] = function () {\n    return (_getOutputHeight = Module['_getOutputHeight'] =\n      Module['asm']['getOutputHeight']).apply(null, arguments);\n  });\n  var _getOutputWidth = (Module['_getOutputWidth'] = function () {\n    return (_getOutputWidth = Module['_getOutputWidth'] =\n      Module['asm']['getOutputWidth']).apply(null, arguments);\n  });\n  var _getOutputChannelCount = (Module['_getOutputChannelCount'] = function () {\n    return (_getOutputChannelCount = Module['_getOutputChannelCount'] =\n      Module['asm']['getOutputChannelCount']).apply(null, arguments);\n  });\n  var _loadModel = (Module['_loadModel'] = function () {\n    return (_loadModel = Module['_loadModel'] =\n      Module['asm']['loadModel']).apply(null, arguments);\n  });\n  var _runInference = (Module['_runInference'] = function () {\n    return (_runInference = Module['_runInference'] =\n      Module['asm']['runInference']).apply(null, arguments);\n  });\n  var _malloc = (Module['_malloc'] = function () {\n    return (_malloc = Module['_malloc'] = Module['asm']['malloc']).apply(\n      null,\n      arguments,\n    );\n  });\n  var ___errno_location = (Module['___errno_location'] = function () {\n    return (___errno_location = Module['___errno_location'] =\n      Module['asm']['__errno_location']).apply(null, arguments);\n  });\n  var ___dl_seterr = (Module['___dl_seterr'] = function () {\n    return (___dl_seterr = Module['___dl_seterr'] =\n      Module['asm']['__dl_seterr']).apply(null, arguments);\n  });\n  var stackSave = (Module['stackSave'] = function () {\n    return (stackSave = Module['stackSave'] = Module['asm']['stackSave']).apply(\n      null,\n      arguments,\n    );\n  });\n  var stackRestore = (Module['stackRestore'] = function () {\n    return (stackRestore = Module['stackRestore'] =\n      Module['asm']['stackRestore']).apply(null, arguments);\n  });\n  var stackAlloc = (Module['stackAlloc'] = function () {\n    return (stackAlloc = Module['stackAlloc'] =\n      Module['asm']['stackAlloc']).apply(null, arguments);\n  });\n  var dynCall_jjj = (Module['dynCall_jjj'] = function () {\n    return (dynCall_jjj = Module['dynCall_jjj'] =\n      Module['asm']['dynCall_jjj']).apply(null, arguments);\n  });\n  var dynCall_jiii = (Module['dynCall_jiii'] = function () {\n    return (dynCall_jiii = Module['dynCall_jiii'] =\n      Module['asm']['dynCall_jiii']).apply(null, arguments);\n  });\n  var dynCall_iiiijj = (Module['dynCall_iiiijj'] = function () {\n    return (dynCall_iiiijj = Module['dynCall_iiiijj'] =\n      Module['asm']['dynCall_iiiijj']).apply(null, arguments);\n  });\n  var dynCall_viijj = (Module['dynCall_viijj'] = function () {\n    return (dynCall_viijj = Module['dynCall_viijj'] =\n      Module['asm']['dynCall_viijj']).apply(null, arguments);\n  });\n  var dynCall_viiijjj = (Module['dynCall_viiijjj'] = function () {\n    return (dynCall_viiijjj = Module['dynCall_viiijjj'] =\n      Module['asm']['dynCall_viiijjj']).apply(null, arguments);\n  });\n  var dynCall_iijjiiii = (Module['dynCall_iijjiiii'] = function () {\n    return (dynCall_iijjiiii = Module['dynCall_iijjiiii'] =\n      Module['asm']['dynCall_iijjiiii']).apply(null, arguments);\n  });\n  var dynCall_jiji = (Module['dynCall_jiji'] = function () {\n    return (dynCall_jiji = Module['dynCall_jiji'] =\n      Module['asm']['dynCall_jiji']).apply(null, arguments);\n  });\n  var calledRun;\n  dependenciesFulfilled = function runCaller() {\n    if (!calledRun) run();\n    if (!calledRun) dependenciesFulfilled = runCaller;\n  };\n\n  function run(args) {\n    args = args || arguments_;\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) {\n      return;\n    }\n\n    function doRun() {\n      if (calledRun) return;\n      calledRun = true;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      initRuntime();\n      readyPromiseResolve(Module);\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function () {\n        setTimeout(function () {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] == 'function')\n      Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  run();\n\n  return __Module.ready;\n};\n","export const version = process.env.PKG_VERSION || '0.0.0-development';\nexport const packageName =\n  process.env.PKG_NAME || '@stream-io/video-filters-web';\n","// @ts-expect-error - module is not declared\nimport { createTFLiteSIMDModule } from './tflite-simd.js';\nimport { packageName, version } from './version';\n\n// This is a WebAssembly module compiled from the TensorFlow Lite C++ library.\nconst createTFLite = createTFLiteSIMDModule as (opts?: any) => Promise<TFLite>;\n\nexport interface TFLite extends EmscriptenModule {\n  _getModelBufferMemoryOffset(): number;\n  _getInputMemoryOffset(): number;\n  _getInputHeight(): number;\n  _getInputWidth(): number;\n  _getInputChannelCount(): number;\n  _getOutputMemoryOffset(): number;\n  _getOutputHeight(): number;\n  _getOutputWidth(): number;\n  _getOutputChannelCount(): number;\n  _loadModel(bufferSize: number): number;\n  _runInference(): number;\n}\n\nexport const loadTFLite = async (\n  options: {\n    basePath?: string;\n    tfFilePath?: string;\n    modelFilePath?: string;\n  } = {},\n) => {\n  const {\n    basePath = `https://unpkg.com/${packageName}@${version}/tf`,\n    tfFilePath = `${basePath}/tflite/tflite-simd.wasm`,\n    modelFilePath = `${basePath}/models/segm_full_v679.tflite`,\n  } = options;\n\n  const [tfLite, model] = await Promise.all([\n    createTFLite({ locateFile: () => tfFilePath }),\n    fetchModel(modelFilePath),\n  ]);\n\n  const modelBufferOffset = tfLite._getModelBufferMemoryOffset();\n  tfLite.HEAPU8.set(new Uint8Array(model), modelBufferOffset);\n  tfLite._loadModel(model.byteLength);\n\n  return tfLite;\n};\n\nlet lastModelFilePath = '';\nlet modelFileCache: ArrayBuffer | undefined;\nconst fetchModel = async (modelFilePath: string) => {\n  const model =\n    modelFilePath === lastModelFilePath && modelFileCache\n      ? modelFileCache\n      : await fetch(modelFilePath).then((r) => r.arrayBuffer());\n\n  // Cache the model file for future use.\n  modelFileCache = model;\n  lastModelFilePath = modelFilePath;\n  return model;\n};\n"],"names":["simd","SegmentationLevel"],"mappings":"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"}